(function(shopify) {
(()=>{var ve=Object.defineProperty,Re=Object.defineProperties;var be=Object.getOwnPropertyDescriptors;var le=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var de=(t,d,p)=>d in t?ve(t,d,{enumerable:!0,configurable:!0,writable:!0,value:p}):t[d]=p,O=(t,d)=>{for(var p in d||(d={}))Ae.call(d,p)&&de(t,p,d[p]);if(le)for(var p of le(d))Te.call(d,p)&&de(t,p,d[p]);return t},q=(t,d)=>Re(t,be(d));var _e="WebPixel::Render";var V=t=>shopify.extend(_e,t);var ue=!1;function Ce(){for(let t of Object.values(Ee))t.enabled=t.percent>Math.random()*100}function C(t){return ue||(ue=!0,Ce()),Ee[t].enabled}var Ee={0:{percent:0,enabled:!1},1:{percent:0,enabled:!1},2:{percent:100,enabled:!1},3:{percent:100,enabled:!0},4:{percent:100,enabled:!1},5:{percent:50,enabled:!1},6:{percent:0,enabled:!1}};var Pe="developer_id.dYmNjMT",U="dNzYwYj";function pe(t){let d=t.init.customerPrivacy;if(d===void 0||d.marketingAllowed||d.analyticsProcessingAllowed)ce(t,d);else{let p=!1;t.customerPrivacy.subscribe("visitorConsentCollected",R=>{let b=R.customerPrivacy;!p&&(b.marketingAllowed||b.analyticsProcessingAllowed)&&(ce(t,b),p=!0)})}}function ce(t,d){var W,H,J,$,X,Z,K,Q,h,k,ee,te;let p=window.dataLayer=window.dataLayer||[],R=JSON.parse(t.settings.config),b=[];if(R.google_tag_ids&&R.google_tag_ids.length>0){let e=R.google_tag_ids;b.push(...e)}else b.push(R.pixel_id);let _=window.gtag=window.gtag||function(){p.push(arguments)};d&&(_("consent","default",fe(d)),_("set",me(d))),D(t)&&(_("set",{ignore_referrer:"true"}),_("policy","detect_click_events",()=>!1),_("policy","detect_element_visibility_events",()=>!1),_("policy","detect_history_change_events",()=>!1),_("policy","detect_link_click_events",()=>!1),_("policy","detect_timer_events",()=>!1),_("policy","detect_youtube_activity_events",()=>!1),_("policy","detect_scroll_events",()=>!1),_("policy","detect_form_submit_events",()=>!1),_("policy","detect_form_interaction_events",()=>!1)),_("policy","internal_sw_allowed",()=>!1),C(4)&&_("policy","inject_cmp_banner",()=>!1),C(6)&&_("policy","all",(e,n,o)=>{let r=o==null?void 0:o.options;switch(n){case"detect_link_click_events":case"detect_form_submit_events":return(r==null?void 0:r.waitForTags)!==!0;case"detect_youtube_activity_events":return(r==null?void 0:r.fixMissingApi)!==!0;default:return!0}}),_("set",Pe,!0),_("js",new Date);let j={send_page_view:!1};D(t)&&(j.ignore_referrer="true");for(let e of b){let n=document.createElement("script");n.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.body.appendChild(n),_("config",e,j)}let F=R.gtag_events,N=e=>{var n;return"shopify_"+(R.target_country||"US")+"_"+String((n=e==null?void 0:e.product)==null?void 0:n.id)+"_"+String(e==null?void 0:e.id)},S=e=>{let n=e==null?void 0:e.title;return["default","title","default title",""].includes(String(n).toLowerCase())?null:n},x=e=>{var c,f,i,s,g,m,v,a,E,y,P,w;let o={value:(c=e==null?void 0:e.subtotalPrice)==null?void 0:c.amount},r=(i=(f=e==null?void 0:e.totalPrice)==null?void 0:f.amount)!=null?i:0;r-=(g=(s=e==null?void 0:e.totalTax)==null?void 0:s.amount)!=null?g:0,r-=(a=(v=(m=e==null?void 0:e.shippingLine)==null?void 0:m.price)==null?void 0:v.amount)!=null?a:0;let u=0,l=(E=e==null?void 0:e.lineItems)!=null?E:[];for(let A of l){let T=(P=(y=A.variant)==null?void 0:y.price.amount)!=null?P:0;T*=A.quantity;for(let I of A.discountAllocations)T-=(w=I.amount.amount)!=null?w:0;u+=T}return C(3)&&(o.google_analysis_params={lineItemValue:u,totalPriceValue:r}),o},L=(e,n)=>n?`${e} - ${n}`:e,ge=(e,n)=>{var o;if(e==="/search"){let r=(o=document.querySelector("link[rel='canonical']"))==null?void 0:o.getAttribute("href");if(r)return r}return n},ye=(e,n,o)=>e&&e.endsWith("thank_you")?L(n,o):n,B=e=>{var n,o,r,u,l,c,f;return{email:e==null?void 0:e.email,phone_number:e==null?void 0:e.phone,address:{first_name:(n=e==null?void 0:e.billingAddress)==null?void 0:n.firstName,last_name:(o=e==null?void 0:e.billingAddress)==null?void 0:o.lastName,street:(r=e==null?void 0:e.billingAddress)==null?void 0:r.address1,city:(u=e==null?void 0:e.billingAddress)==null?void 0:u.city,region:(l=e==null?void 0:e.billingAddress)==null?void 0:l.province,postal_code:(c=e==null?void 0:e.billingAddress)==null?void 0:c.zip,country:(f=e==null?void 0:e.billingAddress)==null?void 0:f.country}}},Y={email:(J=(H=(W=t.init)==null?void 0:W.data)==null?void 0:H.customer)==null?void 0:J.email,phone_number:(Z=(X=($=t.init)==null?void 0:$.data)==null?void 0:X.customer)==null?void 0:Z.phone,address:{first_name:(h=(Q=(K=t.init)==null?void 0:K.data)==null?void 0:Q.customer)==null?void 0:h.firstName,last_name:(te=(ee=(k=t.init)==null?void 0:k.data)==null?void 0:ee.customer)==null?void 0:te.lastName}};t.analytics.subscribe("page_viewed",e=>{var o,r,u,l,c,f,i,s;let n=F.find(g=>g.type==="page_view");if(n&&n.action_label){let g=(u=(r=(o=e.context)==null?void 0:o.window)==null?void 0:r.location)==null?void 0:u.pathname,m=O({send_to:n.action_label,developer_id:{[U]:!0},page_path:g,page_title:Fe((c=(l=e.context)==null?void 0:l.document)==null?void 0:c.title,g),page_location:ge(g,(s=(i=(f=e.context)==null?void 0:f.window)==null?void 0:i.location)==null?void 0:s.href),user_data:Y},!C(2)&&D(t)&&{ignore_referrer:"true"});_("event","page_view",m)}}),t.analytics.subscribe("product_viewed",e=>{var o,r,u,l,c,f;let n=F.find(i=>i.type==="view_item");if(n&&n.action_label){let i=(o=e.data)==null?void 0:o.productVariant;_("event","view_item",{send_to:n.action_label,developer_id:{[U]:!0},ecomm_prodid:[N(i)],ecomm_totalvalue:(r=i==null?void 0:i.price)==null?void 0:r.amount,ecomm_pagetype:"product",items:[{id:N(i),name:L((u=i==null?void 0:i.product)==null?void 0:u.title,S(i)),brand:(l=i==null?void 0:i.product)==null?void 0:l.vendor,category:(c=i==null?void 0:i.product)==null?void 0:c.type,price:(f=i==null?void 0:i.price)==null?void 0:f.amount,variant:S(i)}],user_data:Y})}}),t.analytics.subscribe("product_added_to_cart",e=>{var o,r,u,l,c,f,i,s,g,m,v;let n=F.find(a=>a.type==="add_to_cart");if(n&&n.action_label){let a=(o=e.data)==null?void 0:o.cartLine,E=a==null?void 0:a.merchandise;_("event","add_to_cart",{send_to:n.action_label,developer_id:{[U]:!0},ecomm_prodid:[N(a==null?void 0:a.merchandise)],ecomm_totalvalue:(u=(r=a==null?void 0:a.cost)==null?void 0:r.totalAmount)==null?void 0:u.amount,ecomm_pagetype:"cart",value:(c=(l=a==null?void 0:a.cost)==null?void 0:l.totalAmount)==null?void 0:c.amount,currency:((i=(f=a==null?void 0:a.cost)==null?void 0:f.totalAmount)==null?void 0:i.currencyCode)||"USD",items:[{id:N(E),name:L((s=E==null?void 0:E.product)==null?void 0:s.title,S(E)),brand:(g=E==null?void 0:E.product)==null?void 0:g.vendor,category:(m=E==null?void 0:E.product)==null?void 0:m.type,price:(v=E==null?void 0:E.price)==null?void 0:v.amount,quantity:a==null?void 0:a.quantity,variant:S(E)}],user_data:Y})}}),t.analytics.subscribe("checkout_completed",e=>{var o,r,u,l,c,f,i,s,g,m,v;let n=F.find(a=>a.type==="purchase");if(n&&n.action_label){let a=(o=e.data)==null?void 0:o.checkout,E=O(q(O({send_to:n.action_label,developer_id:{[U]:!0},transaction_id:(r=a==null?void 0:a.order)==null?void 0:r.id,new_customer:(l=(u=a==null?void 0:a.order)==null?void 0:u.customer)==null?void 0:l.isFirstOrder},x(a)),{currency:((c=a==null?void 0:a.subtotalPrice)==null?void 0:c.currencyCode)||"USD",tax:(f=a==null?void 0:a.totalTax)==null?void 0:f.amount,shipping:(s=(i=a==null?void 0:a.shippingLine)==null?void 0:i.price)==null?void 0:s.amount,items:(g=a==null?void 0:a.lineItems)==null?void 0:g.map(y=>{var P,w,A,T,I,M,G,z,ne,ae,re,ie,oe,se;return{id:N(y.variant),name:ye((A=(w=(P=e.context)==null?void 0:P.window)==null?void 0:w.location)==null?void 0:A.pathname,(I=(T=y.variant)==null?void 0:T.product)==null?void 0:I.title,S(y.variant)),brand:(G=(M=y.variant)==null?void 0:M.product)==null?void 0:G.vendor,category:(ne=(z=y.variant)==null?void 0:z.product)==null?void 0:ne.type,coupon:(ie=(re=(ae=y.discountAllocations)==null?void 0:ae[0])==null?void 0:re.discountApplication)==null?void 0:ie.title,price:(se=(oe=y.variant)==null?void 0:oe.price)==null?void 0:se.amount,quantity:y.quantity,variant:S(y.variant)}}),user_data:B(a)}),!C(2)&&D(t)&&{ignore_referrer:"true"});C(5)&&(E.customer_type=we((v=(m=a==null?void 0:a.order)==null?void 0:m.customer)==null?void 0:v.isFirstOrder)),_("event","purchase",E)}}),t.analytics.subscribe("checkout_started",e=>{var o,r,u,l,c,f,i;let n=F.find(s=>s.type==="begin_checkout");if(n&&n.action_label){let s=(o=e.data)==null?void 0:o.checkout,g=O(q(O({send_to:n.action_label,developer_id:{[U]:!0},ecomm_prodid:(r=s==null?void 0:s.lineItems)==null?void 0:r.map(m=>N(m.variant)),ecomm_totalvalue:(u=s==null?void 0:s.subtotalPrice)==null?void 0:u.amount,ecomm_pagetype:"cart"},x(s)),{currency:((l=s==null?void 0:s.subtotalPrice)==null?void 0:l.currencyCode)||"USD",coupon:(f=(c=s==null?void 0:s.discountApplications)==null?void 0:c[0])==null?void 0:f.title,items:(i=s==null?void 0:s.lineItems)==null?void 0:i.map(m=>{var v,a,E,y,P,w,A,T,I,M,G,z;return{id:N(m.variant),name:(a=(v=m.variant)==null?void 0:v.product)==null?void 0:a.title,brand:(y=(E=m.variant)==null?void 0:E.product)==null?void 0:y.vendor,category:(w=(P=m.variant)==null?void 0:P.product)==null?void 0:w.type,coupon:(I=(T=(A=m.discountAllocations)==null?void 0:A[0])==null?void 0:T.discountApplication)==null?void 0:I.title,price:(G=(M=m.variant)==null?void 0:M.price)==null?void 0:G.amount,quantity:m.quantity,variant:(z=m.variant)==null?void 0:z.title}}),user_data:B(s)}),!C(2)&&D(t)&&{ignore_referrer:"true"});_("event","begin_checkout",g)}}),t.analytics.subscribe("search_submitted",e=>{var o,r;let n=F.find(u=>u.type==="search");n&&n.action_label&&_("event","search",{send_to:n.action_label,developer_id:{[U]:!0},search_term:(r=(o=e.data)==null?void 0:o.searchResult)==null?void 0:r.query,user_data:Y})}),t.analytics.subscribe("payment_info_submitted",e=>{var o,r,u;let n=F.find(l=>l.type==="add_payment_info");if(n&&n.action_label){let l=(o=e.data)==null?void 0:o.checkout,c=O({send_to:n.action_label,developer_id:{[U]:!0},currency:((r=l==null?void 0:l.totalPrice)==null?void 0:r.currencyCode)||"USD",total:(u=l==null?void 0:l.totalPrice)==null?void 0:u.amount,user_data:B(l)},!C(2)&&D(t)&&{ignore_referrer:"true"});_("event","add_payment_info",c)}}),t.customerPrivacy.subscribe("visitorConsentCollected",e=>{let n=e.customerPrivacy;_("consent","update",fe(n)),_("set",me(n))})}function me(t){return{restricted_data_processing:!t.saleOfDataAllowed}}function fe(t){return{ad_storage:t.marketingAllowed?"granted":"denied",ad_user_data:t.marketingAllowed?"granted":"denied",ad_personalization:t.marketingAllowed?"granted":"denied",analytics_storage:t.analyticsProcessingAllowed?"granted":"denied"}}function we(t){if(t!=null)return t?"new":"returning"}function D(t){var d;return((d=t==null?void 0:t._pixelInfo)==null?void 0:d.surfaceNext)==="checkout"}function Fe(t,d){if(!d)return t;let p=[["/information","Checkout - Contact Information"],["/shipping","Checkout - Shipping"],["/payment","Checkout - Payment"],["/review","Checkout - Review"],["/processing","Checkout - Processing"],["/thank-you","Checkout - Receipt"],["/stock-problems","Checkout - Stock problems"],["/error","Checkout - Error"]];for(let[R,b]of p)if(d.endsWith(R))return b;return/^\/checkouts\/[A-Za-z0-9]+\/[A-Za-z0-9]+$/.test(d)?"Checkout - Contact Information":t}V(pe);})();

})(self.webPixelsManager.createShopifyExtend('703791321', 'app'));
